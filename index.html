<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | New Unity Project</title>
  </head>
  <body style="text-align: center">
    <canvas id="unity-canvas" style="width: 960px; height: 600px; background: #231F20"></canvas>
    <script src="Build/webGlBuild.loader.js"></script>
    <script>
      createUnityInstance(document.querySelector("#unity-canvas"), {
        dataUrl: "Build/webGlBuild.data",
        frameworkUrl: "Build/webGlBuild.framework.js",
        codeUrl: "Build/webGlBuild.wasm",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "DefaultCompany",
        productName: "New Unity Project",
        productVersion: "0.1",
      }).then((unityInstance) => {
    window.unityInstance = unityInstance;
    console.log("Unity Instance", unityInstance);});
    window.addEventListener("message", function(event) {
       // Check message type
       if (event.data.type === "Map") {       
          window.unityInstance.SendMessage('stops', 'MapFromJs');
       }
       if (event.data.type === "Screen") {
          window.unityInstance.SendMessage('stops', 'ScreenFromJs');
       }
       if (event.data.type === "Silluete") {
          window.unityInstance.SendMessage('stops', 'SillueteFromJs');
       }
   });
    </script>
  </body>
</html>
